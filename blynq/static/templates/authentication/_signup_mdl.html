<!--Sign up template with signupCtrl as controller -->
<div class="login-modal">
    <div class="modal-header">
        <button type="button" class="close" ng-click="signupCtrl.cancel()" aria-hidden="true">
            <i class="fa fa-times"></i></button>
        <div class="logo">
            <img ng-src="/static/SinglePro/prospect_imgs/blynq_logo.png">
        </div>
        <h3 class="modal-title">Sign Up</h3>
    </div>
    <div class="modal-body">
        <div class="row">
                <div class="col-md-12">
                    <uib-alert type="danger" ng-show="signupCtrl.showSignUpMessage">
                        Thankyou for the signup.Please log in now.
                    </uib-alert>
                    <form class="form-horizontal" role="form" name="signupForm" novalidate>
                        <!-- {% csrf_token %} -->
                        <div class="form-group">
                            <div class="col-sm-12 col-md-12 col-lg-12">
                                <input type="text" name="username" class="form-control" id="txtUsername"
                                        ng-blur="signupCtrl.checkUserNameAvailability()"
                                       ng-model="signupCtrl.credentials.username" placeholder="Username" required>
                                       <i class="fa fa-spinner fa-pulse fa-3x fa-fw pull-right"
                                        style="font-size: 11px;"
                                        ng-show="signupCtrl.checkingUsernameAvailability">
                                        </i>
                            </div>
                            <div class="col-sm-12 col-md-12 col-lg-12 validation-error" 
                                ng-show="!signupForm.username.$error.required && signupCtrl.showUsernameTakenErr">
                                <p>User name already taken.</p>
                            </div>
                            <div class="col-sm-12 col-md-12 col-lg-12 validation-error" 
                                ng-show="(signupForm.username.$touched || signupCtrl.submitted) && signupForm.username.$error.required">
                                <p>Please fill this field.</p>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-12 col-md-12 col-lg-12">
                                <input type="password" name="password" class="form-control"
                                       ng-model="signupCtrl.credentials.password" placeholder="Password" required>
                            </div>
                            <div class="col-sm-12 col-md-12 col-lg-12 validation-error" 
                                ng-show="(signupForm.password.$touched || signupCtrl.submitted) && signupForm.password.$error.required">
                                <p>Please fill this field.</p>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-12 col-md-12 col-lg-12">
                                <input type="email" name="email" class="form-control" 
                                       ng-model="signupCtrl.credentials.email" placeholder="email" required>
                            </div>
                            <div class="col-sm-12 col-md-12 col-lg-12 validation-error" 
                                ng-show="(signupForm.email.$touched || signupCtrl.submitted) && signupForm.email.$error.required">
                                <p>Please fill this field.</p>
                            </div>
                            <div class="col-sm-12 col-md-12 col-lg-12 validation-error" 
                                ng-show="!signupForm.email.$error.required && signupForm.email.$invalid">
                                <p>Invalid email.</p>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-12 col-md-12 col-lg-12">
                                <input type="number" name="mobile" class="form-control" 
                                       ng-model="signupCtrl.credentials.mobile_number" 
                                       placeholder="mobile number" 
                                       ng-minlength="10" 
                                       ng-maxlength="10"
                                       required>
                            </div>
                            <div class="col-sm-12 col-md-12 col-lg-12 validation-error" 
                                ng-show="(signupForm.mobile.$touched || signupCtrl.submitted) && signupForm.mobile.$error.required">
                                <p>Please fill this field.</p>
                            </div>
                            <div class="col-sm-12 col-md-12 col-lg-12 validation-error" 
                                ng-show="((signupForm.mobile.$error.minlength || 
                                  signupForm.mobile.$error.maxlength) && 
                                  signupForm.mobile.$dirty)">
                                <p>Please enter a valid 10 digit mobile number.</p>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-12 col-md-12 col-lg-12">
                                <input type="text" name="company" class="form-control" 
                                       ng-model="signupCtrl.credentials.organization_name" placeholder="company" required>
                            </div>
                            <div class="col-sm-12 col-md-12 col-lg-12 validation-error" 
                                ng-show="(signupForm.company.$touched || signupCtrl.submitted)  && signupForm.company.$error.required">
                                <p>Please fill this field.</p>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-12">
                                <button type="submit" class="btn btn-success pull-right" id="btnSubmit"
                                    ng-click="signupCtrl.submit()">Sign Up
                                </button>
                            </div>
                        </div>
                        
                        <input type='text' hidden name="next" value="{{ request.REQUEST.next }}">
                    </form>
                </div>
    </div>
</div>