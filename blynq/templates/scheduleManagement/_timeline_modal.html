<div id="timelineModal">
    <div class="modal-header">
        <button type="button" class="close" ng-click="cancel()" aria-hidden="true"><i class="fa fa-times"></i></button>
        <h3 class="modal-title">Edit Timeline</h3>

    </div>
    <div class="modal-body" stop-event="touchend">
        <p>{[ sometext ]}</p>
        <form role="form" name="timelineDetails" novalidate="">
            <div class="timeline">
                <section>
                    <div class="row">
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label class="control-label">Start Date</label>
                                <div class="input-group">
                                    <input type="text" id="startDate" name="startDate" class="form-control"
                                           datepicker-popup="dd-MMM-yyyy" min-date="today" ng-model="timeline.startDate"
                                           is-open="popUp1.opened"  uib-datepicker-popup
                                           datepicker-options="popUp1dateOptions" datepicker-localdate="true"
                                           ng-required="!timeline.everyDay" close-text="Close" required="required">
                                    <!-- ngIf: isOpen -->
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-default"
                                                ng-click="openDatepicker('startDate')">
                                            <i class="fa fa-calendar"></i>
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="form-group">
                                <label class="control-label">End Date</label>
                                <div class="input-group">
                                    <input type="text" id="endDate" name="endDate" class="form-control"
                                           datepicker-popup="dd-MMM-yyyy" ng-model="timeline.endDate"
                                           is-open="popUp2.opened" min-date="timeline.startDate"
                                           uib-datepicker-popup
                                           datepicker-options="popUp2dateOptions" datepicker-localdate="true"
                                           larger-than-date="timeline.startdate" close-text="Close"><!-- ngIf: isOpen -->
                                    <!--TODO: Validate for enddate to be less than start date and activate an error.-->
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-default"
                                                ng-click="openDatepicker('endDate')">
                                            <i class="fa fa-calendar"></i>
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p class="text-danger" ng-show="timelineDetails.startDate.$invalid">Start Date is a required
                        field</p>
                    <p class="text-danger" ng-show="timelineDetails.endDate.$invalid">

                        End Date must occur after Start
                        Date</p>
                </section>
                <section>
                    <label class="control-label half-bottom">
                        <input type="checkbox" ng-model="timeline.allDay">
                        <strong>All Day</strong>
                    </label>
                    <div class="row form-group" ng-hide="timeline.allDay">
                        <div class="col-sm-4">
                            <label class="control-label">Start Time</label>
                            <div class="time-picker">
                                <table id="startTime" ng-model="timeline.startTime" ng-change="changed()" hour-step="1"
                                       minute-step="15" show-meridian="true" datepicker-localdate="true">
                                    <tbody>
                                        <tr class="text-center" ng-show="::showSpinners">
                                            <td><a ng-click="incrementHours()" class="btn btn-link"><span
                                                    class="fa fa-chevron-up"></span></a></td>
                                            <td>&nbsp;</td>
                                            <td><a ng-click="incrementMinutes()" class="btn btn-link"><span
                                                    class="fa fa-chevron-up"></span></a></td>
                                            <td ng-show="showMeridian"></td>
                                        </tr>
                                        <tr>
                                            <td class="form-group" ng-class="{'has-error': invalidHours}">
                                                <input style="width:50px;" type="text" ng-model="hours"
                                                       ng-change="updateHours()"
                                                       class="form-control text-center"
                                                       ng-readonly="::readonlyInput" maxlength="2">
                                            </td>
                                            <td>:</td>
                                            <td class="form-group" ng-class="{'has-error': invalidMinutes}">
                                                <input style="width:50px;" type="text" ng-model="minutes"
                                                       ng-change="updateMinutes()"
                                                       class="form-control text-center"
                                                       ng-readonly="::readonlyInput" maxlength="2">
                                            </td>
                                            <td ng-show="showMeridian">
                                                <button type="button" class="btn btn-default text-center ng-binding"
                                                        ng-click="toggleMeridian()">AM
                                                </button>
                                            </td>
                                        </tr>
                                        <tr class="text-center" ng-show="::showSpinners">
                                            <td><a ng-click="decrementHours()" class="btn btn-link"><span
                                                    class="fa fa-chevron-down"></span></a></td>
                                            <td>&nbsp;</td>
                                            <td><a ng-click="decrementMinutes()" class="btn btn-link"><span
                                                    class="fa fa-chevron-down"></span></a></td>
                                            <td ng-show="showMeridian"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <label class="control-label">End Time</label>
                            <div class="time-picker">
                                <table id="endTime" ng-model="timeline.endTime" ng-change="changed()"
                                       hour-step="1" minute-step="15" show-meridian="true"
                                       datepicker-localdate="true" class="ng-isolate-scope ng-valid ng-valid-time">
                                    <tbody>
                                    <tr class="text-center" ng-show="::showSpinners">
                                        <td><a ng-click="incrementHours()" class="btn btn-link"><span
                                                class="glyphicon glyphicon-chevron-up"></span></a></td>
                                        <td>&nbsp;</td>
                                        <td><a ng-click="incrementMinutes()" class="btn btn-link"><span
                                                class="glyphicon glyphicon-chevron-up"></span></a></td>
                                        <td ng-show="showMeridian"></td>
                                    </tr>
                                    <tr>
                                        <td class="form-group" ng-class="{'has-error': invalidHours}">
                                            <input style="width:50px;" type="text" ng-model="hours"
                                                   ng-change="updateHours()"
                                                   class="form-control text-center ng-pristine ng-untouched ng-valid ng-valid-maxlength"
                                                   ng-readonly="::readonlyInput" maxlength="2">
                                        </td>
                                        <td>:</td>
                                        <td class="form-group" ng-class="{'has-error': invalidMinutes}">
                                            <input style="width:50px;" type="text" ng-model="minutes"
                                                   ng-change="updateMinutes()"
                                                   class="form-control text-center ng-pristine ng-untouched ng-valid ng-valid-maxlength"
                                                   ng-readonly="::readonlyInput" maxlength="2">
                                        </td>
                                        <td ng-show="showMeridian">
                                            <button type="button" class="btn btn-default text-center ng-binding"
                                                    ng-click="toggleMeridian()">PM
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="text-center" ng-show="::showSpinners">
                                        <td><a ng-click="decrementHours()" class="btn btn-link"><span
                                                class="glyphicon glyphicon-chevron-down"></span></a></td>
                                        <td>&nbsp;</td>
                                        <td><a ng-click="decrementMinutes()" class="btn btn-link"><span
                                                class="glyphicon glyphicon-chevron-down"></span></a></td>
                                        <td ng-show="showMeridian"></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>
                <section>
                    <label class="control-label half-bottom" for="recurrence">
                        <strong>Recurrence</strong></label>
                    <div class="form-group">
                        <label for="Daily" class="add-right control-label">
                            <input type="radio" ng-model="timeline.recurrenceType" value="Daily"
                                   id="Daily" name="recurrenceType"> Daily
                        </label>
                        <label for="Weekly" class="add-right control-label">
                            <input type="radio" ng-model="timeline.recurrenceType" value="Weekly"
                                   id="Weekly" name="recurrenceType"> Weekly
                        </label>
                        <label for="Monthly" class="add-right control-label">
                            <input type="radio" ng-model="timeline.recurrenceType" value="Monthly"
                                   id="Monthly" name="recurrenceType" > Monthly
                        </label>
                    </div>
                    <div class="recurrence-option">
                        <!-- ngIf: timeline.recurrenceType === 'Daily' -->
                        <div ng-if="timeline.recurrenceType === 'Daily'" class="ng-scope">
                            <div class="form-group"><label class="control-label">Every</label>
                                <input type="number" class="form-control input-short" name="dailyRecurrenceFrequency"
                                       ng-model="recurrence.daily.recurrenceFrequency" min="1" max="999"
                                       ng-required="timeline.recurrenceType === 'Daily'" required="required">
                                <label class="control-label">Day(s)</label>
                                <p class="text-danger ng-hide"
                                   ng-show="timelineDetails.dailyRecurrenceFrequency.$invalid">
                                    Daily Recurrence Frequency must be a number between 1 and 999</p>
                            </div>
                        </div><!-- end ngIf: timeline.recurrenceType === 'Daily' -->
                        <!-- ngIf: timeline.recurrenceType === 'Weekly' -->
                        <div ng-if="timeline.recurrenceType === 'Weekly'" class="ng-scope">
                            <div class="form-group"><label class="control-label">
                                Every</label>
                                <input type="number" class="form-control input-short"
                                       name="weeklyRecurrenceFrequency"
                                       ng-model="recurrence.weekly.recurrenceFrequency"
                                       min="1" max="999"
                                       ng-required="timeline.recurrenceType === 'Weekly'"
                                       required="required">
                                <label class="control-label">Week(s)</label>
                                <p class="text-danger ng-hide"
                                   ng-show="timelineDetails.weeklyRecurrenceFrequency.$invalid">
                                    Weekly Recurrence Frequency must be a number between 1 and 999
                                </p>
                            </div>
                            <div class="form-group timelineWeekdays">
                                <label class="control-label">
                                    <input type="checkbox" ng-model="recurrence.weekly.monday"
                                           class="ng-pristine ng-untouched ng-valid"> Monday
                                </label>
                                <label class="control-label">
                                <input type="checkbox" ng-model="recurrence.weekly.tuesday"
                                       class="ng-pristine ng-untouched ng-valid"> Tuesday
                                </label>
                                <label class="control-label">
                                    <input type="checkbox" ng-model="recurrence.weekly.wednesday"
                                           class="ng-pristine ng-untouched ng-valid"> Wednesday
                                </label>
                                <label class="control-label">
                                <input type="checkbox" ng-model="recurrence.weekly.thursday"
                                       class="ng-pristine ng-untouched ng-valid"> Thursday
                                </label> <label class="control-label">
                                <input type="checkbox" ng-model="recurrence.weekly.friday"
                                       class="ng-pristine ng-untouched ng-valid"> Friday
                                </label>
                                <label class="control-label">
                                    <input type="checkbox" ng-model="recurrence.weekly.saturday"
                                           class="ng-pristine ng-untouched ng-valid"> Saturday
                                </label>
                                <label class="control-label">
                                    <input type="checkbox" ng-model="recurrence.weekly.sunday"
                                           class="ng-pristine ng-untouched ng-valid"> Sunday
                                </label>
                            </div>
                        </div>
                        <!-- ngIf: timeline.recurrenceType === 'Monthly' -->
                        <div ng-if="timeline.recurrenceType === 'Monthly'"
                             class="ng-scope">
                            <div class="form-group">
                                <label class="control-label">
                                    <input ng-model="recurrence.monthly.recurrenceAbsolute" ng-value="true"
                                           type="radio" class="ng-pristine ng-untouched ng-valid"
                                           name="246" value="true"> Day
                                </label>
                                <fieldset ng-disabled="!recurrence.monthly.recurrenceAbsolute">
                                    <input type="number" class="form-control" name="monthlyAbsoluteRecurrenceDayOfMonth"
                                           ng-model="recurrence.monthly.absolute.recurrenceDayOfMonth"
                                           min="1" max="31" ng-required="timeline.recurrenceType === 'Monthly'
                                           &amp;&amp; recurrence.monthly.recurrenceAbsolute" required="required">
                                    <label class="control-label">of Every</label>
                                    <input type="number" class="form-control" name="monthlyAbsoluteRecurrenceFrequency"
                                           ng-model="recurrence.monthly.absolute.recurrenceFrequency" min="1" max="999"
                                           ng-required="timeline.recurrenceType === 'Monthly'
                                           &amp;&amp; recurrence.monthly.recurrenceAbsolute" required="required">
                                    <label class="control-label">Month(s)</label>
                                </fieldset>
                                <p class="text-danger"
                                   ng-show="timelineDetails.monthlyAbsoluteRecurrenceDayOfMonth.$invalid">
                                    Monthly Recurrence Day Of Month value must be between 1 and 31
                                </p>
                                <p class="text-danger"
                                   ng-show="timelineDetails.monthlyAbsoluteRecurrenceFrequency.$invalid">
                                    Monthly Recurrence Frequency must be a number between 1 and 999
                                </p>
                            </div>
                            <div class="form-group">
                                <label class="control-label">
                                    <input ng-model="recurrence.monthly.recurrenceAbsolute" ng-value=""
                                           type="radio"
                                           name="247" value="false">
                                    The
                                </label>
                                <fieldset ng-disabled="recurrence.monthly.recurrenceAbsolute"
                                          disabled="disabled">
                                    <week-dropdown week="recurrence.monthly.relative.recurrenceWeekOfMonth"
                                                   class="ng-isolate-scope">
                                        <select class="form-control ng-pristine ng-untouched ng-valid"
                                                ng-model="week" integer-parser="">
                                            <option value="0">First</option>
                                            <option value="1">Second</option>
                                            <option value="2">Third</option>
                                            <option value="3">Fourth</option>
                                            <option value="4">Last</option>
                                        </select>
                                    </week-dropdown>
                                    <weekday-dropdown weekday="recurrence.monthly.relative.recurrenceDayOfWeek">
                                        <select class="form-control" ng-model="weekday"
                                                integer-parser="">
                                            <option value="0">Sunday</option>
                                            <option value="1">Monday</option>
                                            <option value="2">Tuesday</option>
                                            <option value="3">Wednesday</option>
                                            <option value="4">Thursday</option>
                                            <option value="5">Friday</option>
                                            <option value="6">Saturday</option>
                                        </select>
                                    </weekday-dropdown>
                                    <label class="control-label">of Every</label>
                                    <input type="number" class="form-control"
                                           name="monthlyRelativeRecurrenceFrequency"
                                           ng-model="recurrence.monthly.relative.recurrenceFrequency"
                                           min="1" max="999"
                                           ng-required="timeline.recurrenceType === 'Monthly' &amp;&amp; !recurrence.monthly.recurrenceAbsolute">
                                    <label class="">Month(s)</label>
                                </fieldset>
                                <p class="text-danger ng-hide"
                                   ng-show="timelineDetails.monthlyRelativeRecurrenceFrequency.$invalid">
                                    Monthly Relative Recurrence Frequency must be a number between 1 and 999
                                </p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary btn-fixed-width" ng-click="apply()"
                ng-disabled="timelineDetails.$invalid">Apply
            <i class="fa fa-white fa-check icon-right"></i>
        </button>
        <button type="button" class="btn btn-default btn-fixed-width" ng-click="cancel()">
            Cancel <i class="fa fa-times icon-right"></i>
        </button>
    </div>
</div>